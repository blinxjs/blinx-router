!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BlinxRouter=t():e.BlinxRouter=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(15),o=n(a),i=r(6),u=n(i),s=r(17),c=n(s),l=r(19),f=n(l),d=(0,o.default)(),h={},p={},v=function(e,t){h[e.moduleConfig.name]=e.moduleConfig,e.canActivate=function(r,n,a){if(d.isActive(r.name,r.params,!0,!1))return!0;var o=h[e.moduleConfig.name];p=r;var i=[];Object.keys(r._meta).forEach(function(e){d.areStatesDescendants(Object.assign({params:[]},{name:e}),Object.assign({params:[]},o))&&i.push(e)});var u=i.reduce(function(e,t){return t.split(".").length<e.split(".").length?e:t},"");return o.module.shouldRender&&o.module.shouldRender(r,n)||!o.module.shouldRender?t.createInstance(o,u):void a()},d.canDeactivate(e.name,function(r,n,a){if(d.isActive(r.name,r.params,!0,!0))return!0;var o=h[e.moduleConfig.name];return"function"==typeof o.module.shouldDestroy&&o.module.shouldDestroy(r,n)?t.destroyInstance(o):void 0===o.module.shouldDestroy&&t.destroyInstance(o),o.initialized=!1,!0})},m=function(e,t){Array.isArray(e)?e.forEach(function(e){e.moduleConfig.name=e.name,v(e,t)}):v(e,t)};t.default={init:function(e){this.Blinx=e},configure:function(e,t){m(e,this.Blinx),d.add(e);for(var r in t)d.setOption(r,t[r]);t.logger&&d.usePlugin((0,a.loggerPlugin)()),t.history&&d.usePlugin((0,c.default)({useHash:!0})),t.listener&&d.usePlugin((0,f.default)())},register:function(e){m(e,this.Blinx),d.add(e)},reRegister:function(e){this.register(e),d.stop(),d.lastKnownState=p,d.start()},go:function(e,t,r,n){var a={};r&&(a.reload=!0),n&&(a.replace=!0),d.navigate(e,t,a)},usePlugin:function(e){d.usePlugin(e)},useMiddleware:function(e){d.useMiddleware(e)},start:function(){d.start()},stop:function(){d.stop()},getRouteParams:function(){return Object.keys(p).length>0?Object.assign({},p.params):d.lastStateAttempt.params},addRouteListener:function(){return d.addRouteListener.apply(this,arguments)},addListener:function(){return d.addListener.apply(this,arguments)},addNodeListener:function(){return d.addNodeListener.apply(this,arguments)},getCurrentRoute:function(){return p},navigate:function(e){window.location.href=e},intercept:u.default}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(t.errorCodes={ROUTER_NOT_STARTED:"NOT_STARTED",NO_START_PATH_OR_STATE:"NO_START_PATH_OR_STATE",ROUTER_ALREADY_STARTED:"ALREADY_STARTED",ROUTE_NOT_FOUND:"ROUTE_NOT_FOUND",SAME_STATES:"SAME_STATES",CANNOT_DEACTIVATE:"CANNOT_DEACTIVATE",CANNOT_ACTIVATE:"CANNOT_ACTIVATE",TRANSITION_ERR:"TRANSITION_ERR",TRANSITION_CANCELLED:"CANCELLED"},{UNKNOWN_ROUTE:"@@router5/UNKNOWN_ROUTE",ROUTER_START:"$start",ROUTER_STOP:"$stop",TRANSITION_START:"$$start",TRANSITION_CANCEL:"$$cancel",TRANSITION_SUCCESS:"$$success",TRANSITION_ERROR:"$$error"});t.default=r},function(e,t){"use strict";function r(e){return e.split(".").reduce(function(e,t){return e.concat(e.length?e[e.length-1]+"."+t:t)},[])}function n(e){return void 0!==e&&null!==e}function a(e){return e&&e.meta&&e.meta.params}function o(e,t){return n(t.meta.params[e])?Object.keys(t.meta.params[e]).reduce(function(e,r){return e[r]=t.params[r],e},{}):{}}function i(e,t){function n(){var r=void 0,n=function(){var n=i[r],a=s[r];if(n!==a)return{v:r};var u=o(n,e),c=o(a,t);if(u.length!==c.length)return{v:r};if(0===u.length)return"continue";var l=Object.keys(u).some(function(e){return c[e]!==u[e]});return l?{v:r}:void 0};for(r=0;c>r;r+=1){var a=n();switch(a){case"continue":continue;default:if("object"===(void 0===a?"undefined":u(a)))return a.v}}return r}var i=t?r(t.name):[],s=r(e.name),c=Math.min(i.length,s.length),l=void 0;t?a(t)||a(e)?l=n():(console.warn("[router5-transition-path] Some states are missing metadata, reloading all segments"),l=0):l=0;var f=i.slice(l).reverse(),d=s.slice(l),h=t&&l>0?i[l-1]:"";return{intersection:h,toDeactivate:f,toActivate:d}}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.nameToIDs=r,t.default=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);e.length>t;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(5),l=n(c),f=r(4),d=function(){},h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments[3],i=arguments[4];return o(this,e),this.name=t,this.absolute=/^~/.test(r),this.path=this.absolute?r.slice(1):r,this.parser=this.path?new l.default(this.path):null,this.children=[],this.parent=i,this.checkParents(),this.add(n,a),this}return s(e,[{key:"checkParents",value:function(){if(this.absolute&&this.hasParentsParams())throw Error("[RouteNode] A RouteNode with an abolute path cannot have parents with route parameters")}},{key:"hasParentsParams",value:function(){if(this.parent&&this.parent.parser){var e=this.parent.parser,t=e.hasUrlParams||e.hasSpatParam||e.hasMatrixParams||e.hasQueryParams;return t||this.parent.hasParentsParams()}return!1}},{key:"getNonAbsoluteChildren",value:function(){return this.children.filter(function(e){return!e.absolute})}},{key:"findAbsoluteChildren",value:function(){return this.children.reduce(function(e,t){return e.concat(t.absolute?t:[]).concat(t.findAbsoluteChildren())},[])}},{key:"findSlashChild",value:function(){var e=this.getNonAbsoluteChildren().filter(function(e){return e.parser&&/^\/(\?|$)/.test(e.parser.path)});return e[0]}},{key:"getParentSegments",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.parent&&this.parent.parser?this.parent.getParentSegments(e.concat(this.parent)):e.reverse()}},{key:"setParent",value:function(e){this.parent=e,this.checkParents()}},{key:"setPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.path=e,this.parser=e?new l.default(e):null}},{key:"add",value:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,a=void 0;if(void 0!==t&&null!==t){if(t instanceof Array)return void t.forEach(function(e){return r.add(e,n)});if(!(t instanceof e||t instanceof Object))throw Error("RouteNode.add() expects routes to be an Object or an instance of RouteNode.");if(t instanceof e)t.setParent(this);else{if(!t.name||!t.path)throw Error("RouteNode.add() expects routes to have a name and a path defined.");a=t,t=new e(t.name,t.path,t.children,n,this)}var o=t.name.split(".");if(1===o.length){if(this.children.map(function(e){return e.name}).indexOf(t.name)!==-1)throw Error('Alias "'+t.name+'" is already defined in route node');if(this.children.map(function(e){return e.path}).indexOf(t.path)!==-1)throw Error('Path "'+t.path+'" is already defined in route node');this.children.push(t),this.children.sort(function(e,t){var r=e.path.split("?")[0].replace(/(.+)\/$/,"$1"),n=t.path.split("?")[0].replace(/(.+)\/$/,"$1");if("/"===r)return 1;if("/"===n)return-1;if(e.parser.hasSpatParam)return 1;if(t.parser.hasSpatParam)return-1;var a=(r.match(/\//g)||[]).length,o=(n.match(/\//g)||[]).length;if(o>a)return 1;if(a>o)return-1;var i=e.parser.urlParams.length,u=t.parser.urlParams.length;if(u>i)return-1;if(i>u)return 1;var s=(r.split("/").slice(-1)[0]||"").length,c=(n.split("/").slice(-1)[0]||"").length;return c>s?1:s>c?-1:0})}else{var i=this.getSegmentsByName(o.slice(0,-1).join("."));if(!i)throw Error("Could not add route named '"+t.name+"', parent is missing.");t.name=o[o.length-1],i[i.length-1].add(t)}if(a){var s=t.getParentSegments([t]).map(function(e){return e.name}).join(".");n(u({},a,{name:s}))}return this}}},{key:"addNode",value:function(t,r){return this.add(new e(t,r)),this}},{key:"getSegmentsByName",value:function(e){var t=function(e,t){var r=t.filter(function(t){return t.name===e});return r.length?r[0]:void 0},r=[],n=this.parser?[this]:this.children,a=(this.parser?[""]:[]).concat(e.split(".")),o=a.every(function(e){var a=t(e,n);return!!a&&(n=a.children,r.push(a),!0)});return o?r:null}},{key:"getSegmentsMatchingPath",value:function(e,t){var r=t.trailingSlash,n=t.strictQueryParams,a=t.strongMatching,o=function d(e,t,o){for(var u=1===e.length&&""===e[0].name,s=function(i){var s=e[i],c=void 0,l=void 0;if(s.children.length||(c=s.parser.test(t,{trailingSlash:r})),c||(c=s.parser.partialTest(t,{delimiter:a})),c){var h=s.parser.build(c,{ignoreSearch:!0});r&&!s.children.length&&(h=h.replace(/\/$/,"")),l=t.replace(h,""),r&&!s.children.length&&(l=l.replace(/^\/\?/,"?"));var p=(0,f.omit)((0,f.getSearch)(t.replace(h,"")),s.parser.queryParams.concat(s.parser.queryParamsBr));if(l=(0,f.getPath)(l)+(p?"?"+p:""),!r||u||"/"!==l||/\/$/.test(h)||(l=""),o.push(s),Object.keys(c).forEach(function(e){return o.params[e]=c[e]}),!u&&!l.length)return{v:o};if(!u&&!n&&0===l.indexOf("?")){var v=(0,f.parse)(l.slice(1));return v.forEach(function(e){var t=e.name,r=e.value;return o.params[t]=r}),{v:o}}var m=s.getNonAbsoluteChildren();return m.length?{v:d(m,l,o)}:{v:null}}},c=0;e.length>c;c+=1){var l=s(c);if("object"===(void 0===l?"undefined":i(l)))return l.v}return null},u=this.parser?[this]:this.children,s=u.reduce(function(e,t){return e.concat(t,t.findAbsoluteChildren())},[]),c=[];c.params={};var l=o(s,e,c);return l&&1===l.length&&""===l[0].name?null:l}},{key:"getPathFromSegments",value:function(e){return e?e.map(function(e){return e.path}).join(""):null}},{key:"getPath",value:function(e){return this.getPathFromSegments(this.getSegmentsByName(e))}},{key:"buildPathFromSegments",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;for(var n=[],o=[],i=0;e.length>i;i+=1){var u=e[i].parser;n.push.apply(n,a(u.queryParams)),n.push.apply(n,a(u.queryParamsBr)),o.push.apply(o,a(u.urlParams)),o.push.apply(o,a(u.spatParams))}if(!r.strictQueryParams){var s=Object.keys(t).reduce(function(e,t){return n.indexOf(t)===-1&&o.indexOf(t)===-1?e.concat(t):e},[]);n.push.apply(n,a(s))}var c=n.length?n.filter(function(e){if(Object.keys(t).indexOf((0,f.withoutBrackets)(e))===-1)return!1;var r=t[(0,f.withoutBrackets)(e)];return void 0!==r&&null!==r}).map(function(e){var r=t[(0,f.withoutBrackets)(e)],n=Array.isArray(r)?r.map(encodeURIComponent):encodeURIComponent(r);return l.default.serialise(e,n)}).join("&"):null,d=e.reduce(function(e,r){var n=r.parser.build(t,{ignoreSearch:!0});return r.absolute?n:e+n},"");return d+(c?"?"+c:"")}},{key:"getMetaFromSegments",value:function(e){var t="";return e.reduce(function(e,r){var n=r.parser.urlParams.reduce(function(e,t){return e[t]="url",e},{}),a=r.parser.queryParams.reduce(function(e,t){return e[t]="query",e},n);return void 0!==r.name&&(t=t?t+"."+r.name:r.name,e[t]=a),e},{})}},{key:"buildPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={strictQueryParams:!0},a=u({},n,r),o=this.buildPathFromSegments(this.getSegmentsByName(e),t,a);return a.trailingSlash===!0?/\/$/.test(o)?o:o+"/":a.trailingSlash===!1&&/\/$/.test(o)?o.slice(0,-1):o}},{key:"buildStateFromSegments",value:function(e){if(!e||!e.length)return null;var t=e.map(function(e){return e.name}).filter(function(e){return e}).join("."),r=e.params;return{name:t,params:r,_meta:this.getMetaFromSegments(e)}}},{key:"buildState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getSegmentsByName(e);return r&&r.length?{name:e,params:t,_meta:this.getMetaFromSegments(r)}:null}},{key:"matchPath",value:function(e,t){var r={trailingSlash:!1,strictQueryParams:!0,strongMatching:!0},n=u({},r,t),o=this.getSegmentsMatchingPath(e,n);if(o){if(o[0].absolute){var i=o[0].getParentSegments();o.reverse(),o.push.apply(o,a(i)),o.reverse()}var s=o[o.length-1],c=s.findSlashChild();c&&o.push(c)}return this.buildStateFromSegments(o)}}]),e}();t.default=h,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(t.getPath=function(e){return e.split("?")[0]},t.getSearch=function(e){return e.split("?")[1]},/\[\]$/),n=t.hasBrackets=function(e){return r.test(e)},a=t.withoutBrackets=function(e){return e.replace(r,"")},o=t.parse=function(e){return e.split("&").reduce(function(e,t){var r=t.split("="),n=r[0],a=r[1];return e.concat(1===r.length?{name:n,value:!0}:{name:n,value:decodeURIComponent(a)})},[])},i=(t.toObject=function(e){return e.reduce(function(e,t){var r=t.name,o=t.value,i=n(r),u=e[a(r)];return void 0===u?e[a(r)]=i?[o]:o:e[a(r)]=[].concat(u,o),e},{})},t.build=function(e){return e.filter(function(e){var t=e.value;return void 0!==t&&null!==t}).map(function(e){var t=e.name,r=e.value;return r===!0?t:t+"="+encodeURIComponent(r)}).join("&")});t.omit=function(e,t){if(!e)return"";var r=o(e).filter(function(e){var r=e.name;return t.indexOf(a(r))===-1}),n=i(r);return n||""}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return Array.isArray(t)?t.map(function(t){return a(e,t)}).join("&"):t===!0?e:e+"="+t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(4),s=function(e){return"("+(e?e.replace(/(^<|>$)/g,""):"[a-zA-Z0-9-_.~%':]+")+")"},c=[{name:"url-parameter",pattern:/^:([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})(<(.+?)>)?/,regex:function(e){return RegExp(s(e[2]))}},{name:"url-parameter-splat",pattern:/^\*([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})/,regex:/([^\?]*)/},{name:"url-parameter-matrix",pattern:/^\;([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})(<(.+?)>)?/,regex:function(e){return RegExp(";"+e[1]+"="+s(e[2]))}},{name:"query-parameter-bracket",pattern:/^(?:\?|&)(?:\:)?([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})(?:\[\])/},{name:"query-parameter",pattern:/^(?:\?|&)(?:\:)?([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})/},{name:"delimiter",pattern:/^(\/|\?)/,regex:function(e){return RegExp("\\"+e[0])}},{name:"sub-delimiter",pattern:/^(\!|\&|\-|_|\.|;)/,regex:function(e){return RegExp(e[0])}},{name:"fragment",pattern:/^([0-9a-zA-Z]+)/,regex:function(e){return RegExp(e[0])}}],l=function(e){return void 0!==e&&null!==e},f=function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=c.some(function(r){var n=e.match(r.pattern);return!!n&&(t.push({type:r.name,match:n[0],val:n.slice(1,2),otherVal:n.slice(2),regex:r.regex instanceof Function?r.regex(n):r.regex}),e.length>n[0].length&&(t=g(e.substr(n[0].length),t)),!0)});if(!r)throw Error("Could not parse path.");return t},d=function(e,t){return t?e.replace(/\\\/$/,"")+"(?:\\/)?":e},h=function(e,t){return t?/(\/)$/.test(e)?e:e+"(\\/|\\?|\\.|;|$)":e},p=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";/\[\]$/.test(t)&&(t=(0,u.withoutBrackets)(t),r=[r]);var n=e[t];return e[t]=void 0===n?r:Array.isArray(n)?n.concat(r):[n,r],e},v=function(e){var t=(0,u.getSearch)(e);return t?(0,u.toObject)((0,u.parse)(t)):{}},m=function(){function e(t){if(n(this,e),!t)throw Error("Please supply a path");this.path=t,this.tokens=f(t),this.hasUrlParams=this.tokens.filter(function(e){return/^url-parameter/.test(e.type)}).length>0,this.hasSpatParam=this.tokens.filter(function(e){return/splat$/.test(e.type)}).length>0,this.hasMatrixParams=this.tokens.filter(function(e){return/matrix$/.test(e.type)}).length>0,this.hasQueryParams=this.tokens.filter(function(e){return/^query-parameter/.test(e.type)}).length>0,this.spatParams=this._getParams("url-parameter-splat"),this.urlParams=this._getParams(/^url-parameter/),this.queryParams=this._getParams("query-parameter"),this.queryParamsBr=this._getParams("query-parameter-bracket"),this.params=this.urlParams.concat(this.queryParams).concat(this.queryParamsBr),this.source=this.tokens.filter(function(e){return void 0!==e.regex}).map(function(e){return e.regex.source}).join("")}return i(e,null,[{key:"createPath",value:function(t){return new e(t)}},{key:"serialise",value:function(e,t){return a(e,t)}}]),i(e,[{key:"_getParams",value:function(e){var t=e instanceof RegExp?function(t){return e.test(t.type)}:function(t){return t.type===e};return this.tokens.filter(t).map(function(e){return e.val[0]})}},{key:"_isQueryParam",value:function(e){return this.queryParams.indexOf(e)!==-1||this.queryParamsBr.indexOf(e)!==-1}},{key:"_urlTest",value:function(e,t){var r=this,n=e.match(t);return n?this.urlParams.length?n.slice(1,this.urlParams.length+1).reduce(function(e,t,n){return e[r.urlParams[n]]=decodeURIComponent(t),e},{}):{}:null}},{key:"test",value:function(e,t){var r=this,n=o({trailingSlash:!1},t),a=d(this.source,n.trailingSlash),i=this._urlTest(e,RegExp("^"+a+(this.hasQueryParams?"(\\?.*$|$)":"$")));if(!i||!this.hasQueryParams)return i;var u=v(e),s=Object.keys(u).filter(function(e){return r.queryParams.concat(r.queryParamsBr).indexOf(e)===-1});return 0===s.length?(Object.keys(u).forEach(function(e){return i[e]=u[e]}),i):null}},{key:"partialTest",value:function(e,t){var r=this,n=o({delimited:!0},t),a=h(this.source,n.delimited),i=this._urlTest(e,RegExp("^"+a));if(!i)return i;if(!this.hasQueryParams)return i;var u=v(e);return Object.keys(u).filter(function(e){return r.queryParams.concat(r.queryParamsBr).indexOf(e)>=0}).forEach(function(e){return p(i,e,u[e])}),i}},{key:"build",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o({ignoreConstraints:!1,ignoreSearch:!1},r),i=Object.keys(t).reduce(function(r,n){if(!l(t[n]))return r;var a=t[n],o=e._isQueryParam(n)?encodeURIComponent:encodeURI;return r[n]="boolean"==typeof a?a:Array.isArray(a)?a.map(o):o(a),r},{});if(this.urlParams.some(function(e){return!l(i[e])}))throw Error("Missing parameters");if(!n.ignoreConstraints){var c=this.tokens.filter(function(e){return/^url-parameter/.test(e.type)&&!/-splat$/.test(e.type)}).every(function(e){return RegExp("^"+s(e.otherVal[0])+"$").test(i[e.val])});if(!c)throw Error("Some parameters are of invalid format")}var f=this.tokens.filter(function(e){return/^query-parameter/.test(e.type)===!1}).map(function(e){return"url-parameter-matrix"===e.type?";"+e.val+"="+i[e.val[0]]:/^url-parameter/.test(e.type)?i[e.val[0]]:e.match}).join("");if(n.ignoreSearch)return f;var d=this.queryParams.concat(this.queryParamsBr.map(function(e){return e+"[]"})),h=d.filter(function(e){return Object.keys(i).indexOf((0,u.withoutBrackets)(e))!==-1}).map(function(e){return a(e,i[(0,u.withoutBrackets)(e)])}).join("&");return f+(h?"?"+h:"")}}]),e}();t.default=m,e.exports=t.default},function(e,t){"use strict";function r(e,t,r){function n(e){return e=e||window.event,null===e.which?e.button:e.which}function a(e){var t={},r=e.split("?");return r[1]&&r[1].length&&r[1].split("&").forEach(function(e){var r=e.indexOf("=");if(r===-1||r===e.length-1)return void(t[window.decodeURIComponent(e)]="");var n=window.decodeURIComponent(e.substr(0,r)),a=window.decodeURIComponent(e.substr(r+1));t[n]=a}),t}return function(o){if(1===n(o)&&!(o.metaKey||o.ctrlKey||o.shiftKey||o.defaultPrevented)){for(var i=o.target;i&&"A"!==i.nodeName;)i=i.parentNode;if(i&&"A"===i.nodeName&&!i.hasAttribute("download")&&"external"!==i.getAttribute("rel")&&!i.target&&i.href){var u=e.matchUrl(i.href);if(u){o.preventDefault();var s,c=u.name,l=a(i.href);s="function"==typeof t?t(c,l):t,e.navigate(c,l,s,r)}}}}}e.exports=function(e,t){return function(n){var a=(document.ontouchstart?"touchstart":"click",r(n,e,t));return{name:"LINK_INTERCEPTOR",onStart:function(){document.addEventListener("click",a,!1)},onStop:function(){document.removeEventListener("click",a)}}}}},function(e,t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);e.length>t;t++)r[t]=e[t];return r}return Array.from(e)}function n(e,t){function n(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=o({},e.getDependencies(),n),u=t(e.rootNode,e.getOptions(),i);u.useMiddleware.apply(u,r(e.getMiddlewareFactories())),u.usePlugin.apply(u,r(e.getPlugins()));var s=e.getLifecycleFactories(),c=a(s,2),l=c[0],f=c[1];return Object.keys(l).forEach(function(e){return u.canDeactivate(e,l[e])}),Object.keys(f).forEach(function(e){return u.canActivate(e,f[e])}),u}e.clone=n}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(s){a=!0,o=s}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=n},function(e,t){"use strict";function r(e){function t(){for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];return r.forEach(o),e}function r(){return i=[],u=[],e}function n(){return i}function a(){return u}function o(t){i.push(t),u.push(e.executeFactory(t))}var i=[],u=[];e.useMiddleware=t,e.getMiddlewareFactories=n,e.getMiddlewareFunctions=a,e.clearMiddleware=r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){function t(){return d&&(d("navigate"),d=null),e}function r(t,r){return e.forwardMap[t]=r,e}function n(){for(var t=arguments.length,r=Array(t),a=0;t>a;a++)r[a]=arguments[a];var l=e.forwardMap[r[0]]||r[0],d=r[r.length-1],h="function"==typeof d?d:f,p="object"===i(r[1])?r[1]:{},v="object"===i(r[2])?r[2]:{};if(!e.isStarted())return void h({code:u.errorCodes.ROUTER_NOT_STARTED});var m=e.buildState(l,p);if(!m){var g={code:u.errorCodes.ROUTE_NOT_FOUND};return h(g),void e.invokeEventListeners(s.default.TRANSITION_ERROR,null,e.getState(),g)}var y=e.makeState(m.name,m.params,e.buildPath(l,p),m._meta),S=!!e.getState()&&e.areStatesEqual(e.getState(),y,!1);if(S&&!v.reload){var b={code:u.errorCodes.SAME_STATES};return h(b),void e.invokeEventListeners(s.default.TRANSITION_ERROR,y,e.getState(),b)}var O=S?null:e.getState();return c(y,O,v,function(t,r){if(t)if(t.redirect){var a=t.redirect,i=a.name,u=a.params;n(i,u,o({},v,{reload:!0}),h)}else h(t);else e.invokeEventListeners(s.default.TRANSITION_SUCCESS,r,O,v),h(null,r)})}function a(){var t="object"===i(arguments.length>0?arguments[0]:void 0)?arguments.length>0?arguments[0]:void 0:{},r=2===arguments.length?arguments.length>1?arguments[1]:void 0:"function"==typeof(arguments.length>0?arguments[0]:void 0)?arguments.length>0?arguments[0]:void 0:f,a=e.getOptions();return a.defaultRoute?n(a.defaultRoute,a.defaultParams,t,r):function(){}}function c(r,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f;return t(),e.invokeEventListeners(s.default.TRANSITION_START,r,n),d=(0,l.default)(e,r,n,a,function(t,a){d=null,a=a||r,t?(t.code===u.errorCodes.TRANSITION_CANCELLED?e.invokeEventListeners(s.default.TRANSITION_CANCEL,r,n):e.invokeEventListeners(s.default.TRANSITION_ERROR,r,n,t),o(t)):(e.setState(a),o(null,a))})}var d=void 0;e.forwardMap={},e.navigate=n,e.navigateToDefault=a,e.transitionToState=c,e.cancel=t,e.forward=r}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=a;var u=r(1),s=n(u),c=r(21),l=n(c),f=function(){}},function(e,t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);e.length>t;t++)r[t]=e[t];return r}return Array.from(e)}function n(e){function t(){return s}function n(){for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];return r.forEach(o),e}function o(e){i(e)||(s.push(e),u(e))}function i(e){return s.filter(function(t){return t.pluginName===e||t.name===e}).length>0}function u(t){var n=e.executeFactory(t),o=a.map(function(t){if(n[t])return e.addEventListener(t.toLowerCase().replace(/^on/,"$$").replace(/transition/,"$$"),n[t])}).filter(Boolean);c.push.apply(c,r(o))}var s=[],c=[];e.usePlugin=n,e.hasPlugin=i,e.getPlugins=t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a=["onStart","onStop","onTransitionSuccess","onTransitionStart","onTransitionError","onTransitionCancel"]},function(e,t){"use strict";function r(e){function t(){return[u,s]}function r(){return[c,l]}function a(t,r){var a=n(r);return u[t]=a,c[t]=e.executeFactory(a),e}function o(t){return u[t]=void 0,c[t]=void 0,e}function i(t,r){var a=n(r);return s[t]=a,l[t]=e.executeFactory(a),e}var u={},s={},c={},l={};e.canDeactivate=a,e.canActivate=i,e.getLifecycleFactories=t,e.getLifecycleFunctions=r,e.clearCanDeactivate=o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var n=function(e){return"function"==typeof e?e:function(){return function(){return e}}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){function t(){return a}function r(){var t,r=(t=arguments.length-1,arguments.length>t?arguments[t]:void 0),n="function"==typeof r?r:s,l="function"!=typeof(arguments.length>0?arguments[0]:void 0)&&arguments.length>0?arguments[0]:void 0;if(a)return n({code:i.errorCodes.ROUTER_ALREADY_STARTED}),e;var f=void 0,d=void 0;a=!0,e.invokeEventListeners(u.default.ROUTER_START);var h=function(t,r){var a=2>=arguments.length||void 0===arguments[2]||arguments[2];t||e.invokeEventListeners(u.default.TRANSITION_SUCCESS,r,null,{replace:!0}),t&&a&&e.invokeEventListeners(u.default.TRANSITION_ERROR,r,null,t),n(t,r)};if(void 0===l&&!c.defaultRoute)return h({code:i.errorCodes.NO_START_PATH_OR_STATE});if("string"==typeof l?f=l:"object"===(void 0===l?"undefined":o(l))&&(d=l),d)e.setState(d),h(null,d);else{d=void 0===f?null:e.matchPath(f);var p=function(){return e.navigateToDefault({replace:!0},n)},v=function(t){return e.navigate(t.name,t.params,{replace:!0,reload:!0},n)},m=function(t){e.transitionToState(t,e.getState(),{},function(e,t){e?e.redirect?v(e.redirect):c.defaultRoute?p():h(e,null,!1):h(null,t)})};d?m(d):c.defaultRoute?p():c.allowNotFound?m(e.makeNotFoundState(f)):h({code:i.errorCodes.ROUTE_NOT_FOUND,path:f},null)}return e}function n(){return a&&(e.setState(null),a=!1,e.invokeEventListeners(u.default.ROUTER_STOP)),e}var a=!1,c=e.getOptions();e.isStarted=t,e.start=r,e.stop=n}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=a;var i=r(1),u=n(i),s=function(){}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){function t(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=3>=arguments.length||void 0===arguments[3]||arguments[3],u=e.getState();return!!u&&(o||u.name===t?r(e.makeState(t,a),u,i):n(e.makeState(t,a),u))}function r(t,r){var n=2>=arguments.length||void 0===arguments[2]||arguments[2];if(t.name!==r.name)return!1;var a=function(t){return e.rootNode.getSegmentsByName(t).map(function(e){return e.parser.urlParams}).reduce(function(e,t){return e.concat(t)},[])},o=n?a(t.name):Object.keys(t.params),i=n?a(r.name):Object.keys(r.params);return o.length===i.length&&o.every(function(e){return t.params[e]===r.params[e]})}function n(e,t){var r=RegExp("^"+e.name+"\\.(.*)$");return!!r.test(t.name)&&Object.keys(e.params).every(function(r){return e.params[r]===t.params[r]})}function a(t,r){if(t===i.default.UNKNOWN_ROUTE)return r.path;var n=c.useTrailingSlash,a=c.strictQueryParams;return e.rootNode.buildPath(t,r,{trailingSlash:n,strictQueryParams:a})}function o(t,r){return e.rootNode.buildState(t,r)}function u(t,r){var n=c.trailingSlash,a=c.strictQueryParams,o=c.strongMatching,i=e.rootNode.matchPath(t,{trailingSlash:n,strictQueryParams:a,strongMatching:o});if(i){var u=i.name,s=i.params,l=i._meta,f=void 0===c.useTrailingSlash?t:e.buildPath(u,s),d=e.forwardMap[u]||u;return e.makeState(d,s,f,l,r)}return null}function s(t){e.rootNode.setPath(t)}var c=e.getOptions();e.isActive=t,e.areStatesEqual=r,e.areStatesDescendants=n,e.buildPath=a,e.buildState=o,e.matchPath=u,e.setRootPath=s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=r(1),i=n(o)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);e.length>t;t++)r[t]=e[t];return r}return Array.from(e)}function o(e){function t(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];(L[e]||[]).forEach(function(e){return e.apply(void 0,r)})}function r(e,t){L[e]=L[e].filter(function(e){return e!==t})}function n(e,t){return L[e]=(L[e]||[]).concat(t),function(){return r(e,t)}}function u(e){e.canActivate&&D.canActivate(e.name,e.canActivate),e.forwardTo&&D.forward(e.name,e.forwardTo)}function c(e,t,r,n,a){var o={},i=function(e,t){return Object.defineProperty(o,e,{value:t,enumerable:!0})};if(i("name",e),i("params",t),i("path",r),n||a){I+=1;var u={params:n,id:I};a&&(u.source=a),i("meta",u)}return o}function f(e){return c(_.default.UNKNOWN_ROUTE,{path:e},e,{})}function h(){return x}function v(e){x=e}function g(){return U}function S(e,t){return"useTrailingSlash"===e&&void 0!==t&&(U.trailingSlash=!0),U[e]=t,D}function O(e,t){return M[e]=t,D}function T(e){return Object.keys(e).forEach(function(t){M[t]=e[t]}),D}function E(){return M}function R(){return[D,E()]}function N(e){return e.apply(void 0,a(R()))}function w(e){return $.add(e,u),D}function k(e,t,r){return D.rootNode.addNode(e,t),r&&D.canActivate(e,r),D}var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},x=null,I=0,L={},M=C,U=i({},A);Object.keys(j).forEach(function(e){return S(e,j[e])});var D={rootNode:$,getOptions:g,setOption:S,
getState:h,setState:v,makeState:c,makeNotFoundState:f,setDependency:O,setDependencies:T,getDependencies:E,add:w,addNode:k,executeFactory:N,addEventListener:n,removeEventListener:r,invokeEventListeners:t};(0,l.default)(D),(0,y.default)(D),(0,m.default)(D),(0,b.default)(D),(0,d.default)(D),(0,p.default)(D),(0,P.default)(D,o);var $=e instanceof s.default?e:new s.default("","",e,u);return D.rootNode=$,D}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=r(3),s=n(u),c=r(13),l=n(c),f=r(12),d=n(f),h=r(9),p=n(h),v=r(8),m=n(v),g=r(10),y=n(g),S=r(11),b=n(S),O=r(7),P=n(O),T=r(1),_=n(T),A={trailingSlash:0,useTrailingSlash:void 0,autoCleanUp:!0,strictQueryParams:!1,allowNotFound:!1,strongMatching:!0};t.default=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.transitionPath=t.errorCodes=t.loggerPlugin=t.RouteNode=t.createRouter=void 0;var a=r(14),o=n(a),i=r(3),u=n(i),s=r(20),c=n(s),l=r(2),f=n(l),d=r(1),h=n(d);t.default=o.default,t.createRouter=o.default,t.RouteNode=u.default,t.loggerPlugin=c.default,t.errorCodes=d.errorCodes,t.transitionPath=f.default,t.constants=h.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return function(){return e}},n=function(){},a="undefined"!=typeof window&&window.history,o=function(){return window.location.pathname.replace(/\/$/,"")},i=function(e,t,r){return window.history.pushState(e,t,r)},u=function(e,t,r){return window.history.replaceState(e,t,r)},s=function(e){return window.addEventListener("popstate",e)},c=function(e){return window.removeEventListener("popstate",e)},l=function(e){var t=e.useHash?window.location.hash.replace(RegExp("^#"+e.hashPrefix),""):window.location.pathname.replace(RegExp("^"+e.base),"");return(t||"/")+window.location.search},f=function(){return window.history.state},d=function(){return window.location.hash},h={};h=a?{getBase:o,pushState:i,replaceState:u,addPopstateListener:s,removePopstateListener:c,getLocation:l,getState:f,getHash:d}:{getBase:r(""),pushState:n,replaceState:n,addPopstateListener:n,removePopstateListener:n,getLocation:r(""),getState:r(null),getHash:r("")},t.default=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(){function e(e){function t(e,t,a){var i=e?{meta:e.meta,name:e.name,params:e.params,path:e.path}:e,u=n.mergeState===!0?o({},r.getState(),i):i;a?r.replaceState(u,"",t):r.pushState(u,"",t)}function s(s){var c=e.getState(),l=!s.state||!s.state.name,f=l?e.matchPath(r.getLocation(n),h):s.state,d=p.defaultRoute,v=p.defaultParams;return f?void(c&&e.areStatesEqual(f,c,!1)||e.transitionToState(f,c,a,function(r,n){if(r)if(r.redirect){var s=r.redirect,h=s.name,p=s.params;e.navigate(h,p,o({},a,{replace:!0}))}else if(r.code===i.errorCodes.CANNOT_DEACTIVATE){var m=e.buildUrl(c.name,c.params);l||t(f,m,!0)}else d&&e.navigate(d,v,o({},a,{reload:!0,replace:!0}));else e.invokeEventListeners(u.default.TRANSITION_SUCCESS,n,c,{replace:!0})})):void(d&&e.navigateToDefault(o({},a,{reload:!0,replace:!0})))}function c(){n.useHash&&!n.base&&(n.base=r.getBase()),r.addPopstateListener(s)}function l(){r.removePopstateListener(s)}function d(a,o,i){var u=r.getState(),s=u&&u.meta&&u.name&&u.params,c=o&&e.areStatesEqual(o,a,!1),l=i.replace||!s||c,f=e.buildUrl(a.name,a.params);null===o&&n.useHash===!1&&n.preserveHash===!0&&(f+=r.getHash()),t(a,f,l)}var p=e.getOptions(),v=e.start;return(0,f.default)(e,n),e.start=function(){for(var t=arguments.length,a=Array(t),o=0;t>o;o++)a[o]=arguments[o];return 0===a.length||"function"==typeof a[0]?v.apply(void 0,[r.getLocation(n)].concat(a)):v.apply(void 0,a),e},e.replaceHistoryState=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.buildState(t,n),o=e.buildUrl(t,n);e.lastKnownState=a,r.replaceState(a,"",o)},{onStart:c,onStop:l,onTransitionSuccess:d,onPopState:s}}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default,n=o({},d,t),a={forceDeactivate:n.forceDeactivate,source:h};return e.pluginName="BROWSER_PLUGIN",e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(1),u=n(i),s=r(16),c=n(s),l=r(18),f=n(l),d={forceDeactivate:!0,useHash:!1,hashPrefix:"",base:!1,mergeState:!1,preserveHash:!0},h="popstate";t.default=a},function(e,t){"use strict";function r(e,t){function r(r,n){var a=t.base||"",o=t.useHash?"#"+t.hashPrefix:"",i=e.buildPath(r,n);return a+o+i}function n(e){var r=e.match(/^(?:http|https):\/\/(?:[0-9a-z_\-.:]+?)(?=\/)(.*)$/),n=r?r[1]:e,a=n.match(/^(.+?)(#.+?)?(\?.+)?$/);if(!a)throw Error("[router5] Could not parse url "+e);var o=a[1],i=a[2]||"",u=a[3]||"";return(t.useHash?i.replace(RegExp("^#"+t.hashPrefix),""):t.base?o.replace(RegExp("^"+t.base),""):o)+u}function a(t){return e.matchPath(n(t))}e.urlToPath=n,e.buildUrl=r,e.matchUrl=a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(){function e(e){function r(t,r){return r?u[t]&&(u[t]=u[t].filter(function(e){return e!==r})):u[t]=[],e}function n(t,r,n){var a=t.replace(/^(\*|\^|=)/,"");if(a&&!/^\$/.test(t)){var o=e.rootNode.getSegmentsByName(a);o||console.warn("No route found for "+a+", listener might never be called!")}return u[t]||(u[t]=[]),u[t]=(n?[]:u[t]).concat(r),e}function a(e,t,r){(u[e]||[]).forEach(function(n){u[e].indexOf(n)!==-1&&n(t,r)})}function o(e,n,o){var u=(0,i.default)(e,n),s=u.intersection,c=u.toDeactivate,l=o.reload?"":s,f=e.name;t.autoCleanUp&&c.forEach(function(e){return r("^"+e)}),a("^"+l,e,n),a("="+f,e,n),a("*",e,n)}var u={};return e.getListeners=function(){return u},e.addListener=function(e){return n("*",e)},e.removeListener=function(e){return r("*",e)},e.addNodeListener=function(e,t){return n("^"+e,t,!0)},e.removeNodeListener=function(e,t){return r("^"+e,t)},e.addRouteListener=function(e,t){return n("="+e,t)},e.removeRouteListener=function(e,t){return r("="+e,t)},{onTransitionSuccess:o}}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return e.pluginName="LISTENERS_PLUGIN",e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=n(o),u={autoCleanUp:!0};t.default=a},function(e,t){"use strict";function r(){var e=function(){return console.group("Router transition")},t=function(){return console.groupEnd("Router transition")};return console.info("Router started"),{onStop:function(){console.info("Router stopped")},onTransitionStart:function(r,n){t(),e(),console.log("Transition started from state"),console.log(n),console.log("To state"),console.log(r)},onTransitionCancel:function(){console.warn("Transition cancelled")},onTransitionError:function(e,r,n){console.warn("Transition error with code "+n.code),t()},onTransitionSuccess:function(){console.log("Transition success"),t()}}}Object.defineProperty(t,"__esModule",{value:!0}),r.pluginName="LOGGER_PLUGIN",t.default=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t,r,n,o){var l=!1,p=!1,v=e.getOptions(),m=e.getLifecycleFunctions(),g=u(m,2),y=g[0],S=g[1],b=e.getMiddlewareFunctions(),O=function(){return l},P=function(){l||p||(l=!0,o({code:d.errorCodes.TRANSITION_CANCELLED},null))},T=function(r,n){if(p=!0,!O()){if(!r&&v.autoCleanUp){var a=(0,s.nameToIDs)(t.name);Object.keys(y).forEach(function(t){a.indexOf(t)===-1&&e.clearCanDeactivate(t)})}o(r,n||t)}},_=function(e,t){return i({},e,t instanceof Object?t:{error:t})},A=t.name===h.default.UNKNOWN_ROUTE,E={isCancelled:O,toState:t,fromState:r},R=(0,c.default)(t,r),N=R.toDeactivate,w=R.toActivate,k=!r||n.forceDeactivate?[]:function(e,t,r){var n=N.filter(function(e){return y[e]}).reduce(function(e,t){return i({},e,a({},t,y[t]))},{});(0,f.default)(n,i({},E,{errorKey:"segment"}),function(e){return r(e?_({code:d.errorCodes.CANNOT_DEACTIVATE},e):null)})},j=A?[]:function(e,t,r){var n=w.filter(function(e){return S[e]}).reduce(function(e,t){return i({},e,a({},t,S[t]))},{});(0,f.default)(n,i({},E,{errorKey:"segment"}),function(e){return r(e?_({code:d.errorCodes.CANNOT_ACTIVATE},e):null)})},C=b.length?function(e,t,r){return(0,f.default)(b,i({},E),function(t,n){return r(t?_({code:d.errorCodes.TRANSITION_ERR},t):null,n||e)})}:[],x=[].concat(k).concat(j).concat(C);return(0,f.default)(x,E,T),P}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(s){a=!0,o=s}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=r(2),c=n(s),l=r(22),f=n(l),d=r(1),h=n(d);t.default=o},function(e,t){"use strict";function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t,n){var i=t.isCancelled,u=t.toState,s=t.fromState,c=t.errorKey,l=Array.isArray(e)?e:Object.keys(e),f=function(e){return"object"===(void 0===e?"undefined":o(e))&&void 0!==e.name&&void 0!==e.params&&void 0!==e.path},d=function(e){return e.name!==u.name||e.params!==u.params||e.path!==u.path},h=function(t){if(!l.length)return!0;var n="string"==typeof l[0],f=c&&n?r({},c,l[0]):{},d=n?e[l[0]]:l[0],h=d.call(null,u,s,t);return i()?t(null):"boolean"==typeof h?t(h?null:f):h&&"function"==typeof h.then&&h.then(function(e){e instanceof Error?t({error:e},null):t(null,e)},function(e){e instanceof Error?(console.error(e.stack||e),t(a({},f,{promiseError:e}),null)):t("object"===(void 0===e?"undefined":o(e))?a({},f,e):f,null)}),!1},p=function(e,t){i()?n():e?n(e):(t&&f(t)&&(d(t)&&console.error("[router5][transition] Warning: state values changed during transition process."),u=t),l=l.slice(1),v())},v=function(){if(i())n();else{var e=h(p);e&&n(null,u)}};v()}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n}])});